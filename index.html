<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rya Teknikbygg AB</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <header class="header">
        <a href="/">
            <img  class="logo" src="images/logo.png" alt="Rya Teknikbygg AB"/>
        </a>
        <!-- <nav class="nav">
            <a href="#" class="nav-link">Services</a>
            <a href="#" class="nav-link">Projects</a>
            <a href="#" class="nav-link">Contact</a>
        </nav> -->
    </header>

    <main>
        <section class="hero">
            <div class="hero-content">
                <h1>Rya Teknikbygg AB</h1>
                <p>Nybyggnation. Totalrenovering. Projektering. Utemiljö.</p>
            </div>
        </section>

        <section class="testimonials-section">
            <h2>Vad Våra Kunder Säger</h2>
            <div class="testimonial-container">
                <div class="testimonial">
                    <p>"Rya Bygg har otroligt kompetent personal med bra yrkesstolthet. Deras fokus var hela tiden på att jag skulle bli nöjd!"</p>
                    <span>- Filip E.</span>
                </div>
                <div class="testimonial">
                    <p>"Fantastiskt företag och proffisgt utfört"</p>
                    <span>- Anders Andersson</span>
                </div>
                <div class="testimonial">
                    <p>"Väl utfört jobb"</p>
                    <span>- Peter Pettersson</span>
                </div>
            </div>
            </section>
            
        <section class="showcase" aria-label="Project showcase">
            <div class="carousel">
                <img class="carousel-slide" src="images/3.jpg"/>
                <img class="carousel-slide" src="images/4.jpg"/>
                <img class="carousel-slide" src="images/5.jpg"/>
                <img class="carousel-slide" src="images/6.jpg"/>
                <img class="carousel-slide" src="images/7.jpg"/>
                <img class="carousel-slide" src="images/8.jpg"/>
                <img class="carousel-slide" src="images/9.jpg"/>
                <img class="carousel-slide" src="images/10.jpg"/>
            </div>
        </section>
        <section class="contact-section">
            <h2>Kontakta Oss</h2>
            <div>
                <p>Behöver du hjälp med nybyggnation, renovering, altan, eller bygga ett uterum?</p>
                <p>Tveka inte att höra av dig till oss, använd formuläret nedan så hör vi av oss så fort vi kan.</p>
            </div>
            <form class="contact-form">
                <label for="name">Namn</label>
                <input type="text" id="name" name="name" required>

                <label for="email">E-mail</label>
                <input type="email" id="email" name="email" required>

                <label for="phone">Telefon</label>
                <input type="tel" id="phone" name="phone">

                <label for="message">Vad behöver du hjälp med?</label>
                <textarea id="message" name="message" rows="4" required></textarea>

                <button type="submit" class="submit-btn">Skicka</button>
            </form>
        </section>
    </main>

    <footer class="footer">
        <p>&copy; 2025 Rya Teknikbygg AB</p>
    </footer>

    <script>
(() => {
  // Initialize every ".carousel" on the page
  document.addEventListener('DOMContentLoaded', () =>
    initSeamlessCarousel('.carousel', { speed: 100, gap: 16 }) // speed in px/sec
  );

  // Expose globally if you want to call it yourself later
  window.initSeamlessCarousel = initSeamlessCarousel;

  function initSeamlessCarousel(selector = '.carousel', opts = {}) {
    const speed = opts.speed ?? 100; // px/s
    const gap   = opts.gap   ?? 16;

    document.querySelectorAll(selector).forEach(container => {
      if (container.dataset.seamlessReady === '1') return;
      const originals = Array.from(container.querySelectorAll('.carousel-slide'));
      if (originals.length < 2) return; // nothing to loop

      container.dataset.seamlessReady = '1';
      container.style.setProperty('--gap', `${gap}px`);

      // Create the moving track and move original slides into it
      const track = document.createElement('div');
      track.className = 'carousel__track';
      originals.forEach(s => track.appendChild(s));
      container.appendChild(track);

      // Wait for images to be measurable
      const imgs = Array.from(track.querySelectorAll('img'));
      const ready = Promise.all(imgs.map(img => waitForImage(img)));

      ready.then(() => {
        // Measure width of one full set BEFORE cloning
        const oneSetWidth = track.scrollWidth;

        // Clone the set once to make a seamless loop
        const clones = Array.from(track.children).map(node => {
          const c = node.cloneNode(true);
          c.setAttribute('data-clone', '');
          // keep clones out of the a11y tree
          c.setAttribute('aria-hidden', 'true');
          c.tabIndex = -1;
          return c;
        });
        clones.forEach(c => track.appendChild(c));

        // Configure animation distance + duration
        const distance = Math.ceil(oneSetWidth); // px
        const duration = distance / speed;       // seconds
        container.style.setProperty('--distance', `${distance}px`);
        container.style.setProperty('--duration', `${duration}s`);

        // Recalculate on resize (debounced)
        let raf;
        const onResize = () => {
          cancelAnimationFrame(raf);
          raf = requestAnimationFrame(() => {
            // After clones exist, total width is ~2x one set
            const total = track.scrollWidth;
            const firstSet = Math.round(total / 2);
            const newDistance = firstSet;
            const newDuration = newDistance / speed;
            container.style.setProperty('--distance', `${newDistance}px`);
            container.style.setProperty('--duration', `${newDuration}s`);
          });
        };
        window.addEventListener('resize', onResize);

        // Respect reduced motion dynamically
        const mql = window.matchMedia('(prefers-reduced-motion: reduce)');
        const applyMotionPref = () => {
          track.style.animationPlayState = mql.matches ? 'paused' : 'running';
        };
        mql.addEventListener?.('change', applyMotionPref);
        applyMotionPref();

        // Pause on hover is handled by CSS; nothing else needed.
      });
    });
  }

  function waitForImage(img) {
    if (img.decode) return img.decode().catch(() => {});
    if (img.complete) return Promise.resolve();
    return new Promise(res => img.addEventListener('load', res, { once: true }));
  }
})();
</script>
</body>

</html>